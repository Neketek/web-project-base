# -*- mode: yaml -*-
# vi: set ft=yaml sw=2 :
#
# Title:       vagrant.yml
# Description: Main configuration file for Vagrant-based
#              development environment
# Developer:   ddnomad
# Version:     1.0.2
---
# what box and what configuration version?
base_box: ubuntu/xenial64
vc_version: 2

# Virtualbox properties
virtualbox:
  name: vagrant_arachnid42_web-project-base_ubuntu1604
  cpus: 2
  cpu_cap: 100
  ram: 4096

# Ansible provisioning properties
ansible:
  compat_mode: '2.0'
  base_path: /vagrant/xopos/ansible
  playbook: vagrant.yml
  config: ansible.cfg

# execute command for each SSH session
ssh:
  path: /etc/profile.d/exec_on_ssh.sh
  cmds:
    - cd /vagrant

# post-vagrant call commands (executed on "vagrant up" call)
exec:
  - "mv ubuntu-xenial*.log log/$(date +%F%T)_vagrant_boot.log &> /dev/null"

# what ports to forward to host
# <guest_port>: <to_host_port>
forward:
  8080: 8080  # flask
